<div class="nm-dialog">
  <div class="nm-dialog-header">
    <h1 class="header-title" style="margin-top: 5px;">
      <span >添加预约</span>
    </h1>
  </div>

  <form class="form-validation" name="customerForm" novalidate>
    <table class="table  customer-table">
      <tbody>
      <tr>
        <td style="width: 100px;">
          <span class="block m-t-xs"><span class="text-danger">*</span>学期:</span>
        </td>

        <td>
          <input type="text" class="form-control w-lg pull-right ng-binding" readonly ng-model="data.semester.name">
        </td>
      </tr>

      <tr>
        <td>
          <span class="block m-t-xs">预约日期:</span>
        </td>
        <td>
            <nm-datepicker class="w-lg pull-right" ng-model="data.applyDate"></nm-datepicker>
        </td>
      </tr>
      <tr>
        <td>
          <span class="block m-t-xs">班级:</span>
        </td>
        <td>
          <select class="form-control ng-pristine ng-valid ng-touched w-lg pull-right" ng-model="data.clazz" ng-options="(item.number + '' + item.teacher.name + ' '+ item.course.name)  for item in clazzs track by item.id" ng-change="clazzChanged()" aria-invalid="false">
            <option value="">--请选择班级--</option>
          </select>
        </td>
      </tr>

      <tr ng-show="data.clazz!=undefined">
        <td>
          <span class="block m-t-xs">实验:</span>
        </td>
        <td>
          <select class="form-control ng-pristine ng-valid ng-touched w-lg pull-right" ng-model="data.exp"  ng-options="item.name for item in exps track by item.id" ng-change="expChanged()" aria-invalid="false">
            <option value="">--请选择实验--</option>
          </select>
        </td>
      </tr>

      <tr ng-show="data.exp != undefined">
        <td>
          <span class="block m-t-xs">实验室:</span>
        </td>
        <td>
          <select class="form-control ng-pristine ng-valid ng-touched w-lg pull-right" ng-model="data.lab"  ng-options="item.name for item in labs track by item.id" aria-invalid="false">
            <option value="">--请选择实验室--</option>
          </select>
        </td>
      </tr>

      <tr>
        <td>
          <span class="block m-t-xs">时间:</span>
        </td>
        <td>
          <select class="form-control ng-pristine ng-valid ng-touched w-lg pull-right" ng-model="data.slot"  ng-options="item.title for item in slots track by item.id" aria-invalid="false">
            <option value="">--请选择预约时间--</option>
          </select>
        </td>
      </tr>

      <tr ng-show="data.lab != undefined">
        <td>
          <span class="block m-t-xs">实验室容量:</span>
        </td>
        <td>
          <label class="pull-right">
          实验室容量为
          <span style="font-size:15px;color:red;">{{data.lab.capacity}}</span>人
          请不要提交多于
          <span style="font-size:15px;color:red;">{{data.lab.capacity | recommendCount}}</span> 人的预约
          </label>
        </td>
      </tr>

      <tr>
        <td>
          <span class="block m-t-xs">预约人数:</span>
        </td>
        <td>
          <input type="text" class="form-control w-lg pull-right" ng-model="data.count">
        </td>
      </tr>


      <tr>
        <td>
          <span class="block m-t-xs">备注:</span>
        </td>
        <td>
          <textarea class="form-control ng-pristine ng-valid ng-touched w-lg pull-right" ng-model="data.remark" placeholder="" rows="2" aria-multiline="true" aria-invalid="false"></textarea>
        </td>
      </tr>


      </tbody>
    </table>

    <div class="clearfix m-t">
      <div class="pull-right">
        <button class="btn btn-primary w-sm m-r-sm" ng-disabled="customerForm.$invalid" ng-click="save()">保存</button>
      </div>
    </div>
  </form>
</div>
