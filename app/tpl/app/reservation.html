<div class="vbox db-bg">
	<div class="hbox hbox-auto-xs hbox-auto-sm ng-scope">
		<div class = "wrapper lter no_border" style = "overflow: hidden;">
	        <span class = "subview3_title db-title">我的预约</span>
	        <a href="#" class = "pull-right db-title-anchor db-m-r-10">预约日历</a>
	    </div>
	    <div class="db-line"></div>
	    <div class = "wrapper-md">
	    	<div>
	    		<span class="db-title">本周预约</span>
	    	</div>
	    	<div class="db-p-l-40">
				<table class = "table db-appointment-table db-table-row-b db-m-b-0">
					<tr class="cursor-pointer" ng-repeat = "reservation in reservationInWeekList">
						<td style = "width: 15%; text-align: left;">
							<span class = "db-exp-time">{{reservation.applyDate | date: 'yyyy-MM-dd (EEE)'}}</span>
						</td>
						<td style = "width: 20%; text-align: left;">
							<span class="db-exp-time">{{reservation.lab.name}}</span>
						</td>
						<td style = "width: 15%; text-align: right;">
							{{reservation.slot.title}}
						</td>
						<td style = "width: 14%;">
							{{reservation.personCount}}
						</td>
						<td style = "width: 11%;">
							{{reservation.status.value}}
						</td>
						<td style = "width: 25%;">
							<button ng-if = "reservation.clazz.teacher.id === currentUser.id" class="btn btn-danger db-btn-danger pull-right m-t-sm" ng-click = "cancelReservation(reservation.id)">
								取消预约
							</button>
						</td>
					</tr>
				</table>
	    	</div>
	    	<div class = "db-m-t-40">
	    		<span class="db-title">其他预约</span>
	    	</div>
	    	<div class="db-p-l-40">
				<table class = "table db-appointment-table db-table-row-b db-m-b-0">
					<tr class="cursor-pointer" ng-repeat = "reservation in reservationOutWeekList">
						<td style = "width: 15%; text-align: left;">
							<span class = "db-exp-time">{{reservation.applyDate | date: 'yyyy-MM-dd (EEE)'}}</span>
						</td>
						<td style = "width: 20%; text-align: left;">
							<span class="db-exp-time">{{reservation.lab.name}}</span>
						</td>
						<td style = "width: 15%; text-align: right;">
							{{reservation.slot.title}}
						</td>
						<td style = "width: 14%;">
							{{reservation.personCount}}
						</td>
						<td style = "width: 11%;">
							{{reservation.status.value}}
						</td>
						<td style = "width: 25%;">
							<button ng-if = "reservation.clazz.teacher.id === currentUser.id" class="btn btn-danger db-btn-danger pull-right m-t-sm" ng-click = "cancelReservation(reservation.id)">
								取消预约
							</button>
						</td>
					</tr>
				</table>
				<div class="row clearfix db-m-t-30" style="width: 100%;" >
	            	<div class="pull-left col-sm-4">
	              		<span class="db-title">共&nbsp;{{paginator.items}}&nbsp;个非本周预约</span>
	            	</div>
	              	<div class="pull-right">
	            		<uib-pagination max-size="7" previous-text="上一页" next-text="下一页" ng-model="paginator.page" total-items="paginator.items" ng-change="pageChanged()"></uib-pagination>
	            	</div>
	          	</div>
	    	</div>
	    </div>
	</div>
</div>

<lab-footer></lab-footer>
